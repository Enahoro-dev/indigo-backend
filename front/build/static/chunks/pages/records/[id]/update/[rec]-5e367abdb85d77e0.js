(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[212],{1380:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/records/[id]/update/[rec]",function(){return c(7498)}])},7498:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSP":function(){return n},default:function(){return o}});var d=c(5893),e=c(7568),f=c(4051),g=c.n(f),h=c(7294),i=c(1163),j=c.n(i),k=function(a){var b,c=a.record_id,f=a.patient,i=f.patient_record[c].note,k=(0,h.useState)(i),l=k[0],m=k[1],n=(0,h.useState)(!1),o=n[0],p=n[1],q=function(a){a.preventDefault(),p(!0)},r=(b=(0,e.Z)(g().mark(function a(){var b,d;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(b=0;b<f.patient_record.length;b++)delete f.patient_record[b].patient;(d=f.patient_record[c]||{}).note=l,delete d.patient,f.patient_record.splice(c,1),f.patient_record.push(d),fetch("http://127.0.0.1:8000/api/patient/".concat(f.id,"/update/"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),setTimeout(function(){j().push("/records/".concat(f.id))},2e3);case 8:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)});return(0,h.useEffect)(function(){o&&r()},[o]),(0,d.jsxs)("form",{onSubmit:q,className:"h-4/5",children:[(0,d.jsx)("textarea",{onChange:function(a){m(a.target.value)},value:l,className:"focus:outline-none focus:ring focus:border-blue-300 rounded w-3/4 h-4/5 pl-2 pt-2 shadow-lg resize-none",placeholder:"Add text."}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{type:"submit",className:"bg-main mt-4 text-white hover:text-blue-300 p-1 h-8 w-16 rounded text-xs",children:"Update"})})]})},l=k,m=function(a){var b=a.patient,c=a.record_id;return(0,d.jsxs)("div",{className:"h-full",children:[(0,d.jsx)("div",{className:"flex items-center mb-12",children:(0,d.jsxs)("div",{className:"bg-white w-3/4 h-20 pl-4 flex flex-col justify-center rounded",children:[(0,d.jsxs)("p",{className:"text-sm font-semibold",children:[b.first_name," ",b.last_name]}),(0,d.jsx)("p",{className:"text-xs",children:b.patient_number})]})}),(0,d.jsx)(l,{record_id:c,patient:b})]})},n=!0,o=m}},function(a){a.O(0,[774,888,179],function(){var b;return a(a.s=1380)}),_N_E=a.O()}])