(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[916],{9569:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/records/[id]/new",function(){return c(8137)}])},8137:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSP":function(){return n},default:function(){return o}});var d=c(5893),e=c(7568),f=c(4051),g=c.n(f),h=c(7294),i=c(1163),j=c.n(i),k=function(a){var b,c=a.patient,f=(0,h.useState)(""),i=f[0],k=f[1],l=(0,h.useState)(!1),m=l[0],n=l[1],o=function(a){a.preventDefault(),n(!0)},p=(b=(0,e.Z)(g().mark(function a(){var b;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(b=0;b<c.patient_record.length;b++)delete c.patient_record[b].patient;c.patient_record.push({note:i}),fetch("http://127.0.0.1:8000/api/patient/".concat(c.id,"/update/"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),setTimeout(function(){j().push("/records/".concat(c.id))},2e3);case 4:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)});return(0,h.useEffect)(function(){m&&p()},[m]),(0,d.jsxs)("form",{onSubmit:o,className:"h-4/5",children:[(0,d.jsx)("textarea",{onChange:function(a){k(a.target.value)},value:i,className:"focus:outline-none focus:ring focus:border-blue-300 rounded w-3/4 h-4/5 pl-2 pt-2 shadow-lg resize-none",placeholder:"Add text."}),(0,d.jsxs)("div",{children:[" ",(0,d.jsx)("button",{type:"submit",className:"bg-main mt-4 p-1 h-8 w-16 rounded text-white hover:text-blue-300 text-xs",children:"Save"})]})]})},l=k,m=function(a){var b=a.patient;return(0,d.jsxs)("div",{className:"h-full",children:[(0,d.jsx)("div",{className:"flex items-center mb-12",children:(0,d.jsxs)("div",{className:"bg-white w-3/4 h-20 pl-4 flex flex-col justify-center rounded",children:[(0,d.jsxs)("p",{className:"text-sm font-semibold",children:[b.first_name," ",b.last_name]}),(0,d.jsx)("p",{className:"text-xs",children:b.patient_number})]})}),(0,d.jsx)(l,{patient:b})]})},n=!0,o=m}},function(a){a.O(0,[774,888,179],function(){var b;return a(a.s=9569)}),_N_E=a.O()}])